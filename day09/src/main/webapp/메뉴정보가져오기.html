<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

<script>
function getMenuList(){
	alert("안녕?");
//서버에 데이터 요청하기
// jQuery ajax() 매서드 사용하여 서버에 데이터 요청하기
//(화면전환없이 데이터만 가져올 수 있다.)

	//$.ajax();	// 호출할건데 . 통신해! 라고  요청하기 . 매개변수로 서버 통신에 필요한 값을 전달해야 함.
	//$.ajax();	//매개변수를 객체형태, JSON 형태로 제공해야한다.
/*
	$.ajax(
	{
		type : "get",	//HTTP 매서드(get,post 등)
		url : "/day09/pracJson4",	//요청을 보낼 url
		//data Type : 요청한 데이터형식 . 주로 html, text , JSON, xml (서버가 보내는 형식이다.) 
		success : function(){},	//성공했을때 응답할 데이터(내용)을 콜백함수로 넣어주고
						//() 괄호안에는 매개변수자리 a, b, data 뭐든 가능
		error: function(){}	//실패하면 이부분 함수를 실행
	}		
	);
	//$.ajax()를 사용하면 비동기적으로 서버와 데이터를 주고받을 수 있습니다! 
*/
/*	
	$.ajax(
	{
		type : "get",
		url : "/day09/pracJson4",
		success : function(data){
			console.log(data);
		},
		error: function(err){
			console.log(err);
		}
	}		
	);
*/

	$.ajax(
	{
		type : "get",
		url : "/day09/pracJson4",
		success : function(data){
			console.log(data);
	/*
			//
			let wrap = document.querySelector("#wrap");
			//JSONArray를  => ul  의 li 형태로
			let str ="<ul>"
			for(let i=0; i<data.length; i++){
				let item = data[i];	//이거 하나가 food 객체
				str += "<li>"	+ item.name + item.price + "</li>";
			}
			str += "</ul>";
			
			wrap.innerHTML = str;
	*/
			
			//JQUERY 로 변환해서 
			let $wrap = $("#wrap");

			// jsonarray => ul li
			let str = "<ul>";
			for (let i = 0; i < data.length; i++) {
			    let item = data[i]; // food 객체
			    str += "<li>" + item.name + item.price + "</li>";
			}
			str += "</ul>";

			$wrap.html(str);
			
		},
		error: function(err){
			console.log(err);
		}
	}		
	);
}
</script>
</head>
<body>
<button onclick="getMenuList()">메뉴 정보 가져오기</button>
<h2> 메뉴 정보 </h2>
<div id="wrap">
<!-- 비동기적으로 서버와 데이터를 주고받는다는 것은 웹애플리케이션에서 사용자가 페이지를
새로 고침 하지 않고도 서버와 통신할 수 있음을 의미한다.
동기방식 = 사용자가 버튼을 클릭하면, 브라우저는 서버에 요청을 보낸다.
		서버의 응답을 받을 때까지 사용자는 기다려야 하며, 이 동안 페이지는 멈춰있다.
		요청이 완료되면, 응답을 받고 페이지가 새로고쳐져서 데이터를 표시한다.
비동기방식(AJAX) = 사용자가 버튼을 클릭하면, 브라우저는 서버에 요청을 보낸다.
				이때 페이지는 멈추지 않고, 사용자는 계속 다른 작업을 할수 있다.
				서버에서 응답이 오면 , 지정한 콜백 함수가 실행되어 페이지의 일부만 업데이트 된다.
				 예를 들어 새로운 데이터를 표시하는 부분만 변경할 수 있다.
비동기방식의 장점은 필요한 데이터만 서버에서 받아오므로, 네트워크 자원과 시간도 절약할 수 있다.
 -->
</div>
</body>
</html>