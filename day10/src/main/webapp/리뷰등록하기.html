<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

<script>
function regReview(){
	alert("안녕?")

	//서버와 통신을 하고싶다. 화면전환 없이. 
	//$.ajax(); //ajax 메소드를 이용하겠다. 화면전환없기 때문에
	//매개 변수로 값을 전달해야 한다. 서버와 통신에 필요한 값을 전달!
	//객체타입 {} 으로 전달해야 한다. 키들이 다정해져있다. 

	//작성한 리뷰 내용 자바스크립트로 가져오기
	let review = $("#review").val();	//document.querySelector("#review").value;
	alert(review);
	let dataValue = {id : "1",content : review}
	
	$.ajax({
		type : "post",
		url : "/day10/reg1" ,
		data : dataValue ,
		success : function(data){	//서버와 비동기 통신후  성공한 데이터값을 전달해준다
									// id ="1"&content="좋아요"	<=이런 형식.
			console.log(data);
		},			
		err : function(){
			console.log(err);
		} 
		
	});
	
	//form 태그에서 post 로 서버에 보내는 방식과 같다. 
	//꺼내올때도 req.getParameter을 쓰면된다.
	
	
	
}

</script>
</head>
<body>
 <h2>리뷰 등록하기</h2>
 <input type="text" id="review">
 <button onclick="regReview()"> 등록 </button>
</body>
</html>